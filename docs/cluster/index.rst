************
Running GIANI Headlessly
************

Overview
========

If you wish to run GIANI in environments with no graphical capabilities (e.g.: HPC clusters), then you can use the “headless” mode, which allows you to run GIANI as a command line tool. In order to run GIANI in headless mode, you will need a ``properties.xml`` file. If you do not have a ``properties.xml`` file, one can be generated by using the graphical user interface in FIJI to specify the parameters for your analysis.

When running GIANI in headless mode, you must specify at least:

* The location of a ``properties.xml`` file
* One or more files to be processed.

For example, the following command will run GIANI on a file called ``test_image.ome.tiff`` file using ``properties.xml``::

.. code:: shell

   java -jar <Path to FIJI/plugins/giani*.jar> -f test_image.ome.tiff -p properties.xml

You need to replace ``<Path to FIJI/plugins/giani*.jar>`` with the full path to the giani\*.jar in your FIJI plugins directory. The above command will look exactly the same, regardless of whether you are running GIANI on Windows, Linux or Mac.

Parameters
==========

The full list of parameters that can be passed to GIANI is as follows:

* -f: The full path to the image file you wish to analyse.
* -p: The full path to the ``properties.xml`` file.
* -s: If the input image file is a multi-series image dataset, then you need to specify which image series you wish to analyse. Otherwise, GIANI will just analyse the first image in the series.
* -o: The directory where you wish outputs to be saved. If not specified, GIANI will create an output directory in the parent directory of the input file.
* -h: Prints the link to this page and exits.

Deprecated parameters - will be removed in a future release:

* -l: The pull path to a CSV file containing a list of image files you want GIANI to analyse (see below).
* -n: If a list of files was provided above, this parameter tells GIANI which file in the list to analyse (see below).

Path to GIANI job list (Deprecated - will be removed in a future release)
-------------------------------------------------------------------------

The full path to a text file containing a list of all the images you wish to analyse with GIANI. The format of this file is very simple and should contain the following:

``0, <Path to Image 1>, 0``

``1, <Path to Image 2>, 0``

``2, <Path to Image 3>, 0``

``3, <Path to Image 4>, 0``

``4, <Path to Image 5>, 0``

``5, <Path to Image 6>, 0``

``6, <Path to Image 7>, 0``

``7, <Path to Image 8>, 0``

``8, <Path to Image 9>, 0``

``9, <Path to Image 10>, 0``

The first column specifies the job number, which can be specified by the ``-n`` parameter when running GIANI. The second column lists the images to be analysed. The final column specifies the series within the specified file that is to be analysed.
